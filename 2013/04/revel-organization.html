<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Revel框架——结构布局</title>
  
    <meta name="author" content="Gao Xu">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/twitter/stylesheets/bootstrap.min.css" type="text/css" rel="stylesheet" media="all">
<link href="/assets/twitter/stylesheets/style.css" type="text/css" rel="stylesheet" media="all">
<link href="/assets/twitter/widgets/google_prettify/stylesheets/twitter-bootstrap.css" type="text/css" rel="stylesheet" media="all">
 

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  </head>

  <body>

    <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="/">Gavin Droider</a>
          <ul class="nav">
            
              


  <li><a href="/archive">Archive</a></li>


            
              


  <li><a href="/tags">Tags</a></li>


            
              


  <li><a href="/categories">Categories</a></li>


            
              


  <li><a href="/pages">Pages</a></li>


            
              


  <li><a href="/about">About Me</a></li>


            
          </ul>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="content">
        <div class="page-header">
  <h1>Revel框架——结构布局 </h1>
</div>

<div class="row">
  <div class="span8">
    <p>##结构
Revel规定它自身和用户应用都要安装在通过Go命令行工具规定的GOPATH布局中。（参阅<a href="http://golang.org/cmd/go/">“GOPATH环境变量”</a>）
##布局示例
下面是一个名为sample的Revel应用的默认布局：
<pre><code>gocode                  GOPATH根目录
  src                   GOPATH源码文件夹
    revel               Revel源码
      &hellip;
    sample              应用根目录
      app               App源码目录
        controllers     App controllers目录
          init.go       拦截者注册器
        models          App域模型
        views           Templates（模版）
      tests             Test suites测试套件
      conf              配置文件目录
        app.conf        主配置文件
        routes          路由定义
      messages          消息文件
      public            公共目录
        css             CSS文件目录
        js              Javascript文件目录
        images          图片文件目录</code></pre>
##app/目录
app/目录包含你的应用的源码以及模版。</p>

<ul>
<li>app/controllers</li>
<li>app/models</li>
<li>app/views</li>
</ul>

<p>Revel规定：</p>

<ul>
<li>所有的模版（template）都在app/views目录下</li>
<li>所有的Controller都在app/controllers目录下</li>
</ul>

<p>除此之外，应用可以按它希望的结构组织代码。Revel会监视app/目录下的所有文件夹，并在监视到改变时重新build应用。任何依赖于app/之外的改变不会被监视到，当必须这样时，就得程序员负责重新编译。<br />
另外，Revel在启动时会导入app/（或导入的模块）下所有包含init()方法的包，以此来确保程序员所有的代码被初始化。<br />
controllers/init.go文件是约定的本地用来注册所有拦截者的钩子（hooks）。对于同一个包中的源文件，init()方法的顺序是没有定义的，因此在同一个文件中收集所有的拦截者定义允许程序员指定（并且知道）它们运行的顺序。（它也可以用于未来其它顺序敏感的初始化）
##conf/目录
conf目录包含应用的配置文件，下面是两个主要的配置文件：</p>

<ul>
<li>app.conf，应用主要的配置文件，它包含标准的配置参数</li>
<li>routes，路由定义文件
##messages/目录
messages目录包含所有本地的消息文件。
##public/目录
存储在public目录的资源是通过Web Server直接保存的静态资产。一般它被分割为三个标准的子文件夹来存放图片、CSS样式以及JavaScript文件。</li>
</ul>

    <hr>
    <div class="pagination">
      <ul>
        <ul>
          
            <li class="prev"><a href="/2013/04/revel-sharing-functionality.html" title="Revel框架——共享功能">&larr; Previous</a></li>
          
          

            <li><a href="/archive">Archive</a></li>

          
            <li class="next"><a href="/2013/04/thoughtworks-developer-reading-radar.html" title="[转载 ]]">Next &rarr;</a></li>
          
          
        </ul>
      </ul>
    </div>
    <hr>
    
<div id="disqus_thread"></div>
<script>
    var disqus_developer = 1;
    var disqus_shortname = 'jekyllbootstrap'; // required: replace example with your forum shortname
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

  </div>
  
  <div class="span4">
    <h4>Published</h4>
    <div class="date"><span>2013-04-23 17:57:39</span></div>
    <br>
    <h4>Categories</h4>
    <ul class="tag_box">
    
      <li>
  <a href="/categories/#Go-ref">Go <span>17</span></a>
</li>
    
    </ul>
    <br>
    <h4>Tags</h4>
    <ul class="tag_box">
    
      <li>
  <a href="/tags/#Go-ref">Go <span>16</span></a>
</li>
    
      <li>
  <a href="/tags/#revel-ref">revel <span>10</span></a>
</li>
    
    </ul>
  </div>
</div>

      </div>

      <footer>
        <p>&copy; Gao Xu 2013 
          with help from <a href="http://github.com/wendal/gor" target="_blank" title="Gor -- Fast Blog">Gor</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
		  and Idea from <a href="http://ruhoh.com" target="_blank" title="The Definitive Technical Blogging Framework">ruhoh</a>
        </p>
      </footer>

    </div> <!-- /container -->

    
<script src="http://cdnjs.cloudflare.com/ajax/libs/prettify/188.0.0/prettify.js"></script>
<script>
  var pres = document.getElementsByTagName("pre");
  for (var i=0; i < pres.length; ++i) {
    pres[i].className = "prettyprint linenums";
  }
  prettyPrint();
</script>

    
<script>
    var _gaq=[['_setAccount','UA-123-12'],['_trackPageview']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
    g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g,s)}(document,'script'));
</script>
  </body>
</html>
